{% extends "layout.html" %}
{% block reused_content %}

<script>
$(document).ready( JoinRoom );

function JoinRoom(){
    var this_room = $('#lblSessionId').text();

    // Set location variable based on parameter
    this_location = $('#lblLocation').text();

    // Tell server to link this client to the room
    socket.emit('join', {room: this_room, location: this_location});

}

</script>
<div class="row">
    <div class="form-group col-md-7">
        <div class="row well">
            <div>
                <span class="field-label">Session: </span>
                <span id="lblSessionId">{{ session_id }}</span>
            </div>
            <div>
                <span class="field-label">Location: </span>
                <span id="lblLocation">{{ location }}</span>
            </div>
            <div style="margin-top: 10px; margin-bottom: 15px;">
                <h4>Title: </h4>
                <div id="lblTitle" class="text-primary">{{ title }}</div>
            </div>
            <div class="table-responsive">
                <table class="table" id="votes-table">
                    <tbody id="votes">
                    <tr><td>no votes yet</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col-md-4">

        <div class="well">
            <div class="form-group">
                <label for="txtUser">Names:</label>
                <input class="form-control" id="txtUser" placeholder="Name Name Name" type="text"/>
            </div>
            <div class="form-group" id="ctlVotes" style="margin-top: 10px; margin-bottom: 10px;">
                <label for="txtVote">Votes:</label>
                <input class="form-control" id="txtVote" placeholder="## ## ##" type="text"/>
                <span class="help-block" id="lblVoteError" >Only integers with spaces or commas</span>
            </div>
            <div style="margin-bottom: 10px;">
                <button name="btnNumber" class="btn btn-outline-primary btn-sm" value="1">1</button>
                <button name="btnNumber" class="btn btn-outline-primary btn-sm" value="2">2</button>
                <button name="btnNumber" class="btn btn-outline-primary btn-sm" value="3">3</button>
                <button name="btnNumber" class="btn btn-outline-primary btn-sm" value="5">5</button>
                <button name="btnNumber" class="btn btn-outline-primary btn-sm" value="8">8</button>
                <button name="btnNumber" class="btn btn-outline-primary btn-sm" value="13">13</button>
                <button name="btnNumber" class="btn btn-outline-primary btn-sm" value="21">21</button>
                <button name="btnNumber" class="btn btn-outline-primary btn-sm" value="34">34</button>
            </div>
            <button id="btnVote" class="btn btn-default">Cast Vote</button>
        </div>

    </div>
</div>

{% endblock %}
